#### 题目：[5447. 石子游戏 IV](https://leetcode-cn.com/problems/stone-game-iv/)

> 
> Alice 和 Bob 两个人轮流玩一个游戏，Alice 先手。
>
> 一开始，有 `n` 个石子堆在一起。每个人轮流操作，正在操作的玩家可以从石子堆里拿走 **任意** 非零 **平方数** 个石子。
>
> 如果石子堆里没有石子了，则无法操作的玩家输掉游戏。
>
> 给你正整数 `n` ，且已知两个人都采取最优策略。如果 Alice 会赢得比赛，那么返回 `True` ，否则返回 `False` 。
>
>  

#### 示例

```java
输入：n = 1
输出：true
解释：Alice 拿走 1 个石子并赢得胜利，因为 Bob 无法进行任何操作。
```

```java
输入：n = 2
输出：false
解释：Alice 只能拿走 1 个石子，然后 Bob 拿走最后一个石子并赢得胜利（2 -> 1 -> 0）。
```

```java
输入：n = 7
输出：false
解释：当 Bob 采取最优策略时，Alice 无法赢得比赛。
如果 Alice 一开始拿走 4 个石子， Bob 会拿走 1 个石子，然后 Alice 只能拿走 1 个石子，Bob 拿走最后一个石子并赢得胜利（7 -> 3 -> 2 -> 1 -> 0）。
如果 Alice 一开始拿走 1 个石子， Bob 会拿走 4 个石子，然后 Alice 只能拿走 1 个石子，Bob 拿走最后一个石子并赢得胜利（7 -> 6 -> 2 -> 1 -> 0）。
```

```java
输入：n = 17
输出：false
解释：如果 Bob 采取最优策略，Alice 无法赢得胜利。
```





| 难度 | 初见 | 复习1次 | 复习2次 | 复习3次 | 复习4次 |
| :--: | :--: | :-----: | :-----: | :-----: | :-----: |
| 困难 |  ✖   |         |         |         |         |

#### 分析

用$dp[i]$表示有$i$个石头时先手能否赢，true为可以赢，false为不可以赢

当有$i$块石头时，假设先手取了$j*j$块(因为必须取平方)，那么$dp[i-j*j]$则是后手能否赢，所以先手要赢得条件是

- 先手就把石头拿完了 
- 后手$dp[i-j*j]$为false，因为后手不能赢，那么肯定先手赢



```java
 public boolean winnerSquareGame(int n) {
        boolean[]  dp = new boolean[n + 1];
        for(int i = 1; i <= n; i++){
            for(int j = 1; j * j <= i; j++){
              //当先手拿了j*j个石头后，剩下的石头先手输(false)时，说明后手会输，此时先手就赢了
              if(!dp[i-j*j]){
                  dp[i]=true;
                  break;
              }
            }
        }
        return  dp[n];
    }    
}
```



#### 复杂度

- 时间复杂度:$O(N)$
- 空间复杂度:$O(1)$

